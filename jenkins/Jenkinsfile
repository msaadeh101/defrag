@Library('lib') _

// This Jenkinsfile configures and triggers the shared library pipeline.
// All heavy lifting is handled in vars/aksDeploymentPipeline.groovy
aksDeploymentPipeline(
    agentLabel:       "linux-agent-prod",
    dockerRegistry:   "mydockerregistry.azurecr.io",
    imageName:        "myapp",
    aksClusterName:   "prod-aks-cluster",
    aksResourceGroup: "prod-aks-rg",
    namespace:        "default",
    teamsWebhookCred: "teams-webhook-url",   // Jenkins secret ID
    emailRecipients:  "devops-team@example.com",
    azureCredId:      "azure-service-principal", // Jenkins secret ID
    kubeconfigCredId: "aks-kubeconfig"       // Jenkins secret ID
)
